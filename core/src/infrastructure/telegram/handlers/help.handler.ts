import type { BotContext } from "../bot";

const HELP_MESSAGE = `*Справка по командам*

/start - начать работу с ботом
/help - показать это сообщение
/dict - управление личным словарём
/settings - настройки

*Работа со словарём:*
\`/dict\` - показать слова в словаре
\`/dict add <слово>\` - добавить слово
\`/dict remove <слово>\` - удалить слово
\`/dict clear\` - очистить словарь

Слова из вашего словаря не будут исправляться. Используйте для имён собственных, сленга или специальных терминов.

*Обработка текста:*
- Отправьте текстовое сообщение - получите исправленный текст
- Отправьте файл (docx, pdf, txt, md, doc) - получите два файла:
  - Чистая копия с исправлениями
  - Файл с визуальными изменениями (diff)

*Настройки:*
\`/settings prompt <инструкция>\` - задать дополнительные инструкции
\`/settings prompt\` - сбросить инструкции

Например: \`/settings prompt Всегда используй букву ё\``;

export function createHelpHandler() {
  return async (ctx: BotContext) => {
    await ctx.reply(HELP_MESSAGE, { parse_mode: "Markdown" });
  };
}
